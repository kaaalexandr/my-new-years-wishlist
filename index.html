<!DOCTYPE html>
<html>
<head>
    <title>üéÑ –°–µ–º–µ–π–Ω—ã–π –í–∏—à–ª–∏—Å—Ç 2024 —Å –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º üéÅ</title>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=VT323&display=swap" rel="stylesheet">
    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
    <style>
        /* 16-bit —Å–µ–º–µ–π–Ω—ã–π —Å—Ç–∏–ª—å - —Ç—ë–ø–ª—ã–µ –Ω–æ–≤–æ–≥–æ–¥–Ω–∏–µ —Ü–≤–µ—Ç–∞ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background-color: #1a0f2e;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(255, 100, 100, 0.15) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(100, 255, 100, 0.15) 0%, transparent 20%),
                linear-gradient(45deg, transparent 49%, rgba(255, 215, 0, 0.1) 50%, transparent 51%);
            color: #fff0c0;
            font-family: 'VT323', monospace;
            font-size: 22px;
            line-height: 1.5;
            padding: 20px;
            min-height: 100vh;
            border: 10px solid;
            border-image: linear-gradient(45deg, #ff3366, #ff9933, #ffff66, #66ff66, #3366ff, #cc66ff) 1;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 30px;
            background-color: rgba(20, 10, 40, 0.9);
            border: 6px solid #ffcc00;
            box-shadow: 
                0 0 40px #ff3366,
                inset 0 0 30px rgba(255, 204, 0, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        /* –ì–∏—Ä–ª—è–Ω–¥–∞ */
        .container::before {
            content: "";
            position: absolute;
            top: -5px;
            left: 0;
            right: 0;
            height: 10px;
            background: repeating-linear-gradient(
                90deg,
                #ff0000,
                #ff9900 10px,
                #ffff00 20px,
                #00ff00 30px,
                #00ffff 40px,
                #0000ff 50px,
                #ff00ff 60px,
                #ff0000 70px
            );
            z-index: 2;
        }
        
        .family-header {
            font-family: 'Press Start 2P', cursive;
            color: #ffcc00;
            text-align: center;
            font-size: 28px;
            margin-bottom: 40px;
            text-shadow: 
                4px 4px 0 #ff3366,
                -2px -2px 0 #3366ff;
            padding: 20px;
            background: linear-gradient(90deg, #ff3366, #ff9933, #ffcc00);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            position: relative;
            z-index: 1;
        }
        
        /* –ü–∞–Ω–µ–ª—å –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö */
        .reserved-panel {
            background: rgba(0, 50, 100, 0.3);
            border: 3px solid #3366ff;
            padding: 20px;
            margin-bottom: 30px;
            position: relative;
            z-index: 1;
        }
        
        .reserved-panel h3 {
            color: #66ffff;
            font-family: 'Press Start 2P', cursive;
            font-size: 16px;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .reserved-list {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            min-height: 40px;
        }
        
        .reserved-badge {
            background: linear-gradient(180deg, #ff3366, #cc0033);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-family: 'VT323', monospace;
            font-size: 18px;
            border: 2px solid #ffcc00;
        }
        
        .reserved-badge .gift-number {
            background: white;
            color: #ff3366;
            width: 24px;
            height: 24px;
            line-height: 24px;
            font-size: 12px;
            margin-right: 8px;
            border-radius: 50%;
            display: inline-block;
            text-align: center;
        }
        
        /* –°–µ—Ç–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ */
        .gift-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(450px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
            position: relative;
            z-index: 1;
        }
        
        @media (max-width: 768px) {
            .gift-grid {
                grid-template-columns: 1fr;
            }
        }
        
        /* –ö–∞—Ä—Ç–æ—á–∫–∞ –ø–æ–¥–∞—Ä–∫–∞ */
        .gift-card {
            background: linear-gradient(135deg, rgba(40, 20, 60, 0.9), rgba(60, 30, 80, 0.9));
            border: 3px solid;
            border-image: linear-gradient(45deg, #ff6699, #ffcc66) 1;
            padding: 25px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        /* –°—Ç–∏–ª—å –¥–ª—è –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–¥–∞—Ä–∫–∞ */
        .gift-card.reserved {
            opacity: 0.7;
            border-image: linear-gradient(45deg, #666, #999) 1;
            background: linear-gradient(135deg, rgba(60, 60, 60, 0.9), rgba(80, 80, 80, 0.9));
        }
        
        .gift-card.reserved::after {
            content: "üö´ –ó–ê–ë–†–û–ù–ò–†–û–í–ê–ù–û";
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) rotate(-15deg);
            background: rgba(255, 0, 0, 0.9);
            color: white;
            font-family: 'Press Start 2P', cursive;
            font-size: 16px;
            padding: 10px 20px;
            border: 3px solid white;
            z-index: 10;
            animation: reservedPulse 2s infinite;
        }
        
        @keyframes reservedPulse {
            0%, 100% { opacity: 0.8; }
            50% { opacity: 1; }
        }
        
        .gift-card.reserved .gift-title,
        .gift-card.reserved .gift-description {
            color: #888 !important;
        }
        
        .gift-card.reserved .gift-link,
        .gift-card.reserved .reserve-btn {
            display: none !important;
        }
        
        .gift-card:hover:not(.reserved) {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 10px 30px rgba(255, 102, 153, 0.5);
            border-image: linear-gradient(45deg, #66ffcc, #6699ff) 1;
        }
        
        .gift-number {
            display: inline-block;
            background: #ff3366;
            color: white;
            width: 36px;
            height: 36px;
            text-align: center;
            line-height: 36px;
            border-radius: 50%;
            font-family: 'Press Start 2P', cursive;
            font-size: 14px;
            margin-right: 15px;
            border: 2px solid #ffcc00;
        }
        
        .gift-card.reserved .gift-number {
            background: #666;
            border-color: #999;
        }
        
        .gift-title {
            color: #ffcc66;
            font-family: 'Press Start 2P', cursive;
            font-size: 18px;
            margin-bottom: 15px;
            display: inline-block;
            text-shadow: 2px 2px 0 #ff3366;
        }
        
        .gift-description {
            color: #ccccff;
            margin-bottom: 20px;
            font-size: 20px;
            min-height: 60px;
        }
        
        /* –ë–ª–æ–∫ —Å –∫–Ω–æ–ø–∫–∞–º–∏ */
        .gift-actions {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }
        
        @media (max-width: 768px) {
            .gift-actions {
                flex-direction: column;
            }
        }
        
        /* –ö–Ω–æ–ø–∫–∞ —Å—Å—ã–ª–∫–∏ */
        .gift-link {
            display: inline-block;
            background: linear-gradient(180deg, #3366ff, #0033cc);
            color: white;
            font-family: 'Press Start 2P', cursive;
            font-size: 14px;
            padding: 12px 25px;
            text-decoration: none;
            border: 3px outset #6666ff;
            cursor: pointer;
            text-shadow: 2px 2px 0 #003399;
            transition: all 0.2s;
            flex: 1;
            text-align: center;
        }
        
        .gift-link:hover {
            background: linear-gradient(180deg, #6699ff, #3366ff);
            border: 3px inset #6699ff;
        }
        
        /* –ö–Ω–æ–ø–∫–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è */
        .reserve-btn {
            display: inline-block;
            background: linear-gradient(180deg, #ff3366, #cc0033);
            color: white;
            font-family: 'Press Start 2P', cursive;
            font-size: 14px;
            padding: 12px 25px;
            text-decoration: none;
            border: 3px outset #ff6666;
            cursor: pointer;
            text-shadow: 2px 2px 0 #990033;
            transition: all 0.2s;
            flex: 1;
            text-align: center;
        }
        
        .reserve-btn:hover {
            background: linear-gradient(180deg, #ff6699, #ff3366);
            border: 3px inset #ff6699;
            animation: pulse 0.5s;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        /* –ö—Ç–æ —á—Ç–æ –≤—ã–±—Ä–∞–ª */
        .reserved-by {
            font-size: 14px;
            color: #ffcc00;
            margin-top: 15px;
            text-align: center;
            font-family: 'Press Start 2P', cursive;
        }
        
        .reserved-by input {
            background: transparent;
            border: 2px solid #ffcc00;
            color: #ffcc00;
            padding: 5px 10px;
            font-family: 'VT323', monospace;
            font-size: 18px;
            width: 200px;
            text-align: center;
            margin-top: 5px;
        }
        
        .reserved-by input::placeholder {
            color: #888;
        }
        
        /* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }
        
        .modal-overlay.active {
            display: flex;
            animation: fadeIn 0.3s;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .modal {
            background: linear-gradient(135deg, #2a1b3d, #4a2b6b);
            border: 5px solid #ffcc00;
            padding: 30px;
            max-width: 600px;
            width: 90%;
            font-family: 'Press Start 2P', cursive;
            color: #fff;
            position: relative;
            animation: modalAppear 0.4s;
        }
        
        @keyframes modalAppear {
            from { transform: scale(0.8); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }
        
        .modal-header {
            color: #ffcc00;
            font-size: 20px;
            margin-bottom: 20px;
            text-align: center;
            text-shadow: 2px 2px 0 #ff3366;
            border-bottom: 2px solid #ff3366;
            padding-bottom: 10px;
        }
        
        .modal-content {
            font-size: 14px;
            line-height: 1.6;
            margin-bottom: 30px;
            color: #ccccff;
        }
        
        .modal-gift-info {
            background: rgba(255, 204, 0, 0.1);
            border: 2px dashed #ffcc00;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
        }
        
        .modal-gift-info strong {
            color: #ffcc00;
        }
        
        .modal-warning {
            color: #ff6666;
            font-size: 12px;
            margin: 15px 0;
            padding: 10px;
            background: rgba(255, 0, 0, 0.1);
            border-left: 3px solid #ff6666;
        }
        
        .modal-actions {
            display: flex;
            gap: 20px;
            justify-content: center;
        }
        
        @media (max-width: 768px) {
            .modal-actions {
                flex-direction: column;
            }
        }
        
        .modal-btn {
            padding: 15px 30px;
            font-family: 'Press Start 2P', cursive;
            font-size: 14px;
            border: 3px outset;
            cursor: pointer;
            transition: all 0.2s;
            flex: 1;
            text-align: center;
        }
        
        .modal-btn.confirm {
            background: linear-gradient(180deg, #00cc66, #00994d);
            color: white;
            border-color: #00ff88;
        }
        
        .modal-btn.confirm:hover {
            background: linear-gradient(180deg, #00ff88, #00cc66);
            border: 3px inset #00ff88;
        }
        
        .modal-btn.cancel {
            background: linear-gradient(180deg, #ff6666, #cc3333);
            color: white;
            border-color: #ff9999;
        }
        
        .modal-btn.cancel:hover {
            background: linear-gradient(180deg, #ff9999, #ff6666);
            border: 3px inset #ff9999;
        }
        
        /* –°–æ–æ–±—â–µ–Ω–∏–µ –æ —Å—Ç–∞—Ç—É—Å–µ */
        .status-message {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: linear-gradient(180deg, #00cc66, #00994d);
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            font-family: 'Press Start 2P', cursive;
            font-size: 14px;
            border: 3px solid #00ff88;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
            z-index: 1001;
            transform: translateY(100px);
            opacity: 0;
            transition: all 0.3s;
        }
        
        .status-message.show {
            transform: translateY(0);
            opacity: 1;
        }
        
        /* –ö–Ω–æ–ø–∫–∞ —Å–±—Ä–æ—Å–∞ –¥–ª—è –∞–¥–º–∏–Ω–∞ */
        .reset-btn {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: #ff0000;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 10px;
            opacity: 0.3;
            cursor: pointer;
            z-index: 9999;
        }
        
        .reset-btn:hover {
            opacity: 1;
        }
        /* –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–∫–æ–Ω–∫–∏ —Å–µ–º—å–∏ */
.family-icons-container {
    margin: 30px 0;
    position: relative;
    z-index: 1;
}

.family-icons {
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    gap: 25px;
    padding: 20px;
    background: rgba(255, 204, 0, 0.1);
    border: 2px dashed #ffcc00;
    border-radius: 15px;
    animation: borderGlow 3s infinite alternate;
}

@keyframes borderGlow {
    0% { border-color: #ffcc00; box-shadow: 0 0 10px rgba(255, 204, 0, 0.3); }
    100% { border-color: #ff3366; box-shadow: 0 0 20px rgba(255, 51, 102, 0.5); }
}

.family-icon {
    text-align: center;
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
    animation: float 6s ease-in-out infinite;
}

/* –†–∞–∑–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–π –∏–∫–æ–Ω–∫–∏ */
.family-icon:nth-child(1) { animation-delay: 0s; }
.family-icon:nth-child(2) { animation-delay: 0.5s; }
.family-icon:nth-child(3) { animation-delay: 1s; }
.family-icon:nth-child(4) { animation-delay: 1.5s; }
.family-icon:nth-child(5) { animation-delay: 2s; }
.family-icon:nth-child(6) { animation-delay: 2.5s; }

@keyframes float {
    0%, 100% { 
        transform: translateY(0px) rotate(0deg); 
    }
    25% { 
        transform: translateY(-10px) rotate(2deg); 
    }
    75% { 
        transform: translateY(-5px) rotate(-2deg); 
    }
}

.family-icon:hover {
    transform: scale(1.2) rotate(5deg) !important;
    animation-play-state: paused;
}

.family-icon:hover .icon-emoji {
    transform: scale(1.3);
    filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.8));
}

.family-icon:hover .icon-name {
    color: #ff3366;
    text-shadow: 0 0 10px #ff3366;
}

.icon-emoji {
    font-size: 40px;
    margin-bottom: 8px;
    transition: all 0.3s ease;
    filter: drop-shadow(2px 2px 0 rgba(0, 0, 0, 0.3));
}

.icon-name {
    font-family: 'Press Start 2P', cursive;
    font-size: 10px;
    color: #ffcc00;
    text-shadow: 1px 1px 0 #ff3366;
    transition: all 0.3s ease;
    letter-spacing: 1px;
}

/* –≠—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏ –∫–ª–∏–∫–µ */
.family-icon:active {
    transform: scale(0.9) !important;
}

/* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
@media (max-width: 768px) {
    .family-icons {
        gap: 15px;
        padding: 15px;
    }
    
    .icon-emoji {
        font-size: 30px;
    }
    
    .icon-name {
        font-size: 8px;
    }
}

/* –ü–æ–¥—Å–∫–∞–∑–∫–∞ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */
.family-icon::after {
    content: attr(title);
    position: absolute;
    bottom: 100%;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(0, 0, 0, 0.8);
    color: white;
    padding: 5px 10px;
    border-radius: 5px;
    font-family: 'VT323', monospace;
    font-size: 16px;
    white-space: nowrap;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s ease;
    pointer-events: none;
    z-index: 100;
}

.family-icon:hover::after {
    opacity: 1;
    visibility: visible;
    transform: translateX(-50%) translateY(-5px);
}
    </style>
</head>
<body>
    <div class="container">
        <h1 class="family-header">üéÑ –°–ï–ú–ï–ô–ù–´–ô –í–ò–®–õ–ò–°–¢ 2024 üéÅ</h1>

        <!-- –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–∫–æ–Ω–∫–∏ —Å–µ–º—å–∏ -->
<div class="family-icons-container">
    <div class="family-icons">
        <div class="family-icon" title="–ú–∞–º—á">
            <div class="icon-emoji">üë©</div>
            <div class="icon-name">–ú–ê–ú–ê</div>
        </div>
        <div class="family-icon" title="–õ–µ–Ω—á">
            <div class="icon-emoji">üë®</div>
            <div class="icon-name">–ë–†–ê–¢</div>
        </div>
        <div class="family-icon" title="–ù–∞—Ç–∞—à—á">
            <div class="icon-emoji">üíÉ</div>
            <div class="icon-name">–ù–ê–¢–ê–®–ê</div>
        </div>
        <div class="family-icon" title="–°–∞–Ω—á –º–ª.">
            <div class="icon-emoji">üë¶</div>
            <div class="icon-name">–°–ê–ù–Ø</div>
        </div>
        <div class="family-icon" title="–ù–∞—Å—Ç–µ–Ω—á">
            <div class="icon-emoji">üëß</div>
            <div class="icon-name">–ù–ê–°–¢–Ø</div>
        </div>
        <div class="family-icon" title="–ò—Ä–∏—Å–∫–∞">
            <div class="icon-emoji">üê±</div>
            <div class="icon-name">–ö–æ—à–∞–∫–µ–Ω</div>
        </div>
    </div>
</div>
        
        <!-- –ü–∞–Ω–µ–ª—å –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–¥–∞—Ä–∫–æ–≤ -->
        <div class="reserved-panel">
            <h3>üö´ –ó–ê–ë–†–û–ù–ò–†–û–í–ê–ù–ù–´–ï –ü–û–î–ê–†–ö–ò:</h3>
            <div class="reserved-list" id="reservedList">
                –ó–∞–≥—Ä—É–∑–∫–∞...
            </div>
        </div>
        
        <!-- –°–µ—Ç–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ -->
        <div class="gift-grid" id="giftGrid">
            <!-- –ü–æ–¥–∞—Ä–æ–∫ 1 -->
            <div class="gift-card" data-id="1">
                <span class="gift-number">01</span>
                <h3 class="gift-title">–£–ú–ù–ê–Ø –ö–û–õ–û–ù–ö–ê</h3>
                <p class="gift-description">–î–ª—è –º—É–∑—ã–∫–∏, –Ω–æ–≤–æ—Å—Ç–µ–π –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É–º–Ω—ã–º –¥–æ–º–æ–º. –Ø–Ω–¥–µ–∫—Å –°—Ç–∞–Ω—Ü–∏—è –∏–ª–∏ –∞–Ω–∞–ª–æ–≥.</p>
                <div class="gift-actions">
                    <a href="https://www.wildberries.ru/catalog/28044944/detail.aspx" target="_blank" class="gift-link">[–ü–û–°–ú–û–¢–†–ï–¢–¨]</a>
                    <button class="reserve-btn" onclick="showReserveModal(1, '–£–ú–ù–ê–Ø –ö–û–õ–û–ù–ö–ê')">[–ó–ê–ë–†–û–ù–ò–†–û–í–ê–¢–¨]</button>
                </div>
                <div class="reserved-by" id="reservedBy1" style="display: none;">
                    –í—ã–±—Ä–∞–ª(–∞): <input type="text" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è" maxlength="20" onchange="updateReservedBy(1, this.value)">
                </div>
            </div>
            
            <!-- –ü–æ–¥–∞—Ä–æ–∫ 2 -->
            <div class="gift-card" data-id="2">
                <span class="gift-number">02</span>
                <h3 class="gift-title">–ù–ê–ë–û–† –î–õ–Ø –§–û–ù–î–Æ</h3>
                <p class="gift-description">–î–ª—è —Å–µ–º–µ–π–Ω—ã—Ö –≤–µ—á–µ—Ä–æ–≤ —Å —Å—ã—Ä–æ–º –∏ —à–æ–∫–æ–ª–∞–¥–æ–º. –°–æ–∑–¥–∞—Å—Ç —É—é—Ç–Ω—É—é –∞—Ç–º–æ—Å—Ñ–µ—Ä—É.</p>
                <div class="gift-actions">
                    <a href="https://www.wildberries.ru/catalog/47689010/detail.aspx" target="_blank" class="gift-link">[–ü–û–°–ú–û–¢–†–ï–¢–¨]</a>
                    <button class="reserve-btn" onclick="showReserveModal(2, '–ù–ê–ë–û–† –î–õ–Ø –§–û–ù–î–Æ')">[–ó–ê–ë–†–û–ù–ò–†–û–í–ê–¢–¨]</button>
                </div>
                <div class="reserved-by" id="reservedBy2" style="display: none;">
                    –í—ã–±—Ä–∞–ª(–∞): <input type="text" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è" maxlength="20" onchange="updateReservedBy(2, this.value)">
                </div>
            </div>
            
            <!-- –ü–æ–¥–∞—Ä–æ–∫ 3 -->
            <div class="gift-card" data-id="3">
                <span class="gift-number">03</span>
                <h3 class="gift-title">–ò–ì–†–û–í–ê–Ø –ü–†–ò–°–¢–ê–í–ö–ê</h3>
                <p class="gift-description">Nintendo Switch –∏–ª–∏ PS5 –¥–ª—è —Å–µ–º–µ–π–Ω—ã—Ö –∏–≥—Ä–æ–≤—ã—Ö –≤–µ—á–µ—Ä–æ–≤.</p>
                <div class="gift-actions">
                    <a href="https://www.wildberries.ru/catalog/29942901/detail.aspx" target="_blank" class="gift-link">[–ü–û–°–ú–û–¢–†–ï–¢–¨]</a>
                    <button class="reserve-btn" onclick="showReserveModal(3, '–ò–ì–†–û–í–ê–Ø –ü–†–ò–°–¢–ê–í–ö–ê')">[–ó–ê–ë–†–û–ù–ò–†–û–í–ê–¢–¨]</button>
                </div>
                <div class="reserved-by" id="reservedBy3" style="display: none;">
                    –í—ã–±—Ä–∞–ª(–∞): <input type="text" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è" maxlength="20" onchange="updateReservedBy(3, this.value)">
                </div>
            </div>
            
            <!-- –ü–æ–¥–∞—Ä–æ–∫ 4 -->
            <div class="gift-card" data-id="4">
                <span class="gift-number">04</span>
                <h3 class="gift-title">–ö–ê–ß–ï–õ–ò –î–õ–Ø –î–ê–ß–ò</h3>
                <p class="gift-description">–ü–æ–¥–≤–µ—Å–Ω—ã–µ –∫–∞—á–µ–ª–∏ –∏–ª–∏ –≥–∞–º–∞–∫ –¥–ª—è –æ—Ç–¥—ã—Ö–∞ –Ω–∞ —Å–≤–µ–∂–µ–º –≤–æ–∑–¥—É—Ö–µ.</p>
                <div class="gift-actions">
                    <a href="https://www.wildberries.ru/catalog/54482835/detail.aspx" target="_blank" class="gift-link">[–ü–û–°–ú–û–¢–†–ï–¢–¨]</a>
                    <button class="reserve-btn" onclick="showReserveModal(4, '–ö–ê–ß–ï–õ–ò –î–õ–Ø –î–ê–ß–ò')">[–ó–ê–ë–†–û–ù–ò–†–û–í–ê–¢–¨]</button>
                </div>
                <div class="reserved-by" id="reservedBy4" style="display: none;">
                    –í—ã–±—Ä–∞–ª(–∞): <input type="text" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è" maxlength="20" onchange="updateReservedBy(4, this.value)">
                </div>
            </div>
            
            <!-- –ü–æ–¥–∞—Ä–æ–∫ 5 -->
            <div class="gift-card" data-id="5">
                <span class="gift-number">05</span>
                <h3 class="gift-title">–¶–ò–§–†–û–í–ê–Ø –†–ê–ú–ö–ê</h3>
                <p class="gift-description">–§–æ—Ç–æ—Ä–∞–º–∫–∞ —Å Wi-Fi –¥–ª—è –æ–±–º–µ–Ω–∞ —Å–µ–º–µ–π–Ω—ã–º–∏ —Ñ–æ—Ç–æ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.</p>
                <div class="gift-actions">
                    <a href="https://www.wildberries.ru/catalog/28044944/detail.aspx" target="_blank" class="gift-link">[–ü–û–°–ú–û–¢–†–ï–¢–¨]</a>
                    <button class="reserve-btn" onclick="showReserveModal(5, '–¶–ò–§–†–û–í–ê–Ø –†–ê–ú–ö–ê')">[–ó–ê–ë–†–û–ù–ò–†–û–í–ê–¢–¨]</button>
                </div>
                <div class="reserved-by" id="reservedBy5" style="display: none;">
                    –í—ã–±—Ä–∞–ª(–∞): <input type="text" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è" maxlength="20" onchange="updateReservedBy(5, this.value)">
                </div>
            </div>
            
            <!-- –ü–æ–¥–∞—Ä–æ–∫ 6 -->
            <div class="gift-card" data-id="6">
                <span class="gift-number">06</span>
                <h3 class="gift-title">–ù–ê–ë–û–† –ù–ê–°–¢–û–õ–¨–ù–´–• –ò–ì–†</h3>
                <p class="gift-description">–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–µ –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–≥—Ä—ã –¥–ª—è –≤—Å–µ—Ö –≤–æ–∑—Ä–∞—Å—Ç–æ–≤.</p>
                <div class="gift-actions">
                    <a href="https://www.wildberries.ru/catalog/47689010/detail.aspx" target="_blank" class="gift-link">[–ü–û–°–ú–û–¢–†–ï–¢–¨]</a>
                    <button class="reserve-btn" onclick="showReserveModal(6, '–ù–ê–ë–û–† –ù–ê–°–¢–û–õ–¨–ù–´–• –ò–ì–†')">[–ó–ê–ë–†–û–ù–ò–†–û–í–ê–¢–¨]</button>
                </div>
                <div class="reserved-by" id="reservedBy6" style="display: none;">
                    –í—ã–±—Ä–∞–ª(–∞): <input type="text" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è" maxlength="20" onchange="updateReservedBy(6, this.value)">
                </div>
            </div>
            
            <!-- –ü–æ–¥–∞—Ä–æ–∫ 7 -->
            <div class="gift-card" data-id="7">
                <span class="gift-number">07</span>
                <h3 class="gift-title">–ö–£–•–û–ù–ù–´–ô –ö–û–ú–ë–ê–ô–ù</h3>
                <p class="gift-description">–ú–æ—â–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è —Å–µ–º–µ–π–Ω—ã—Ö –æ–±–µ–¥–æ–≤.</p>
                <div class="gift-actions">
                    <a href="https://www.wildberries.ru/catalog/29942901/detail.aspx" target="_blank" class="gift-link">[–ü–û–°–ú–û–¢–†–ï–¢–¨]</a>
                    <button class="reserve-btn" onclick="showReserveModal(7, '–ö–£–•–û–ù–ù–´–ô –ö–û–ú–ë–ê–ô–ù')">[–ó–ê–ë–†–û–ù–ò–†–û–í–ê–¢–¨]</button>
                </div>
                <div class="reserved-by" id="reservedBy7" style="display: none;">
                    –í—ã–±—Ä–∞–ª(–∞): <input type="text" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è" maxlength="20" onchange="updateReservedBy(7, this.value)">
                </div>
            </div>
            
            <!-- –ü–æ–¥–∞—Ä–æ–∫ 8 -->
            <div class="gift-card" data-id="8">
                <span class="gift-number">08</span>
                <h3 class="gift-title">–ü–†–û–ï–ö–¢–û–† –î–õ–Ø –ö–ò–ù–û</h3>
                <p class="gift-description">–î–ª—è –¥–æ–º–∞—à–Ω–µ–≥–æ –∫–∏–Ω–æ—Ç–µ–∞—Ç—Ä–∞ –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ñ–∏–ª—å–º–æ–≤ –≤—Å–µ–π —Å–µ–º—å—ë–π.</p>
                <div class="gift-actions">
                    <a href="https://www.wildberries.ru/catalog/54482835/detail.aspx" target="_blank" class="gift-link">[–ü–û–°–ú–û–¢–†–ï–¢–¨]</a>
                    <button class="reserve-btn" onclick="showReserveModal(8, '–ü–†–û–ï–ö–¢–û–† –î–õ–Ø –ö–ò–ù–û')">[–ó–ê–ë–†–û–ù–ò–†–û–í–ê–¢–¨]</button>
                </div>
                <div class="reserved-by" id="reservedBy8" style="display: none;">
                    –í—ã–±—Ä–∞–ª(–∞): <input type="text" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è" maxlength="20" onchange="updateReservedBy(8, this.value)">
                </div>
            </div>
            
            <!-- –ü–æ–¥–∞—Ä–æ–∫ 9 -->
            <div class="gift-card" data-id="9">
                <span class="gift-number">09</span>
                <h3 class="gift-title">–°–ï–†–¢–ò–§–ò–ö–ê–¢ –í –°–ü–ê</h3>
                <p class="gift-description">–ù–∞ –º–∞—Å—Å–∞–∂ –∏–ª–∏ —Å–ø–∞-–ø—Ä–æ—Ü–µ–¥—É—Ä—ã –¥–ª—è —Ä–µ–ª–∞–∫—Å–∞—Ü–∏–∏.</p>
                <div class="gift-actions">
                    <a href="https://www.wildberries.ru/catalog/28044944/detail.aspx" target="_blank" class="gift-link">[–ü–û–°–ú–û–¢–†–ï–¢–¨]</a>
                    <button class="reserve-btn" onclick="showReserveModal(9, '–°–ï–†–¢–ò–§–ò–ö–ê–¢ –í –°–ü–ê')">[–ó–ê–ë–†–û–ù–ò–†–û–í–ê–¢–¨]</button>
                </div>
                <div class="reserved-by" id="reservedBy9" style="display: none;">
                    –í—ã–±—Ä–∞–ª(–∞): <input type="text" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è" maxlength="20" onchange="updateReservedBy(9, this.value)">
                </div>
            </div>
            
            <!-- –ü–æ–¥–∞—Ä–æ–∫ 10 -->
            <div class="gift-card" data-id="10">
                <span class="gift-number">10</span>
                <h3 class="gift-title">–¢–£–† –ü–û –ï–í–†–û–ü–ï</h3>
                <p class="gift-description">–ü–æ–¥–∞—Ä–æ—á–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –Ω–∞ —Å–µ–º–µ–π–Ω–æ–µ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ.</p>
                <div class="gift-actions">
                    <a href="https://www.wildberries.ru/catalog/47689010/detail.aspx" target="_blank" class="gift-link">[–ü–û–°–ú–û–¢–†–ï–¢–¨]</a>
                    <button class="reserve-btn" onclick="showReserveModal(10, '–¢–£–† –ü–û –ï–í–†–û–ü–ï')">[–ó–ê–ë–†–û–ù–ò–†–û–í–ê–¢–¨]</button>
                </div>
                <div class="reserved-by" id="reservedBy10" style="display: none;">
                    –í—ã–±—Ä–∞–ª(–∞): <input type="text" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è" maxlength="20" onchange="updateReservedBy(10, this.value)">
                </div>
            </div>
        </div>
    </div>
    
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è -->
    <div class="modal-overlay" id="reserveModal">
        <div class="modal">
            <div class="modal-header">‚ö†Ô∏è –ü–û–î–¢–í–ï–†–ñ–î–ï–ù–ò–ï –ë–†–û–ù–ò–†–û–í–ê–ù–ò–Ø</div>
            <div class="modal-content">
                <p>–í—ã —Å–æ–±–∏—Ä–∞–µ—Ç–µ—Å—å –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥–∞—Ä–æ–∫:</p>
                <div class="modal-gift-info" id="modalGiftInfo">
                    <!-- –ó–¥–µ—Å—å –±—É–¥–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–¥–∞—Ä–∫–µ -->
                </div>
                <p>–ü–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è:</p>
                <ul>
                    <li>‚úì –≠—Ç–æ—Ç –ø–æ–¥–∞—Ä–æ–∫ —Å—Ç–∞–Ω–µ—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –¥—Ä—É–≥–∏—Ö</li>
                    <li>‚úì –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ø–æ—è–≤–∏—Ç—Å—è –æ—Ç–º–µ—Ç–∫–∞ "–ó–ê–ë–†–û–ù–ò–†–û–í–ê–ù–û"</li>
                    <li>‚úì –í–∞—Å –ø–æ–ø—Ä–æ—Å—è—Ç –≤–≤–µ—Å—Ç–∏ –≤–∞—à–µ –∏–º—è</li>
                </ul>
                <div class="modal-warning">
                    ‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï: –û—Ç–º–µ–Ω–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –±—É–¥–µ—Ç –≤–æ–∑–º–æ–∂–Ω–∞ —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã!
                </div>
            </div>
            <div class="modal-actions">
                <button class="modal-btn confirm" onclick="confirmReservation()">‚úÖ –î–ê, –ó–ê–ë–†–û–ù–ò–†–û–í–ê–¢–¨</button>
                <button class="modal-btn cancel" onclick="closeModal()">‚ùå –û–¢–ú–ï–ù–ò–¢–¨</button>
            </div>
        </div>
    </div>
    
    <!-- –°–æ–æ–±—â–µ–Ω–∏–µ –æ —Å—Ç–∞—Ç—É—Å–µ -->
    <div class="status-message" id="statusMessage"></div>
    
    <!-- –ö–Ω–æ–ø–∫–∞ —Å–±—Ä–æ—Å–∞ –¥–ª—è –∞–¥–º–∏–Ω–∞ -->
    <button class="reset-btn" onclick="resetAll()" title="–°–±—Ä–æ—Å–∏—Ç—å –≤—Å–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è">‚ôªÔ∏è –°–ë–†–û–°</button>

    <script>
        // === –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø FIREBASE ===
        // ‚ö†Ô∏è –ó–ê–ú–ï–ù–ò –≠–¢–ò –î–ê–ù–ù–´–ï –ù–ê –°–í–û–ò –ò–ó FIREBASE CONSOLE ‚ö†Ô∏è
        const firebaseConfig = {
  apiKey: "AIzaSyA_57kHHb2D-EOSxaOVE4aD25qXT4oXmJU",
  authDomain: "wishlist-2026.firebaseapp.com",
  projectId: "wishlist-2026",
  storageBucket: "wishlist-2026.firebasestorage.app",
  messagingSenderId: "1072466643130",
  appId: "1:1072466643130:web:3b73da03ca11b73c3e5a83",
  measurementId: "G-7QHKJ0S164"
};
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Firebase
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();
        
        // === –ü–ï–†–ï–ú–ï–ù–ù–´–ï ===
        let gifts = {};
        let selectedGiftId = null;
        let selectedGiftTitle = '';
        
        // === –§–£–ù–ö–¶–ò–ò –î–õ–Ø –†–ê–ë–û–¢–´ –° FIRESTORE ===
        
        // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤—Å–µ –ø–æ–¥–∞—Ä–∫–∏ –≤ Firestore
        async function saveToFirestore() {
            try {
                await db.collection('wishlist').doc('gifts').set({
                    data: gifts,
                    updatedAt: new Date().toISOString()
                });
                console.log('‚úÖ –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ Firestore');
                return true;
            } catch (error) {
                console.error('‚ùå –û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è:', error);
                showStatusMessage('‚ö†Ô∏è –û—à–∏–±–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏');
                return false;
            }
        }
        
        // –ó–∞–≥—Ä—É–∑–∏—Ç—å –ø–æ–¥–∞—Ä–∫–∏ –∏–∑ Firestore
        async function loadFromFirestore() {
            try {
                const doc = await db.collection('wishlist').doc('gifts').get();
                
                if (doc.exists) {
                    const data = doc.data();
                    gifts = data.data || {};
                    
                    // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
                    Object.keys(gifts).forEach(id => {
                        if (gifts[id] && gifts[id].reserved) {
                            const giftCard = document.querySelector(`.gift-card[data-id="${id}"]`);
                            if (giftCard) {
                                giftCard.classList.add('reserved');
                                const reservedByDiv = document.getElementById(`reservedBy${id}`);
                                if (reservedByDiv) {
                                    reservedByDiv.style.display = 'block';
                                    
                                    // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∏–º—è
                                    const nameInput = reservedByDiv.querySelector('input');
                                    if (nameInput && gifts[id].reservedBy) {
                                        nameInput.value = gifts[id].reservedBy;
                                    }
                                }
                            }
                        }
                    });
                    
                    updateReservedList();
                    showStatusMessage('‚úÖ –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã');
                    return true;
                } else {
                    // –ï—Å–ª–∏ –¥–æ–∫—É–º–µ–Ω—Ç –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, —Å–æ–∑–¥–∞—ë–º –ø—É—Å—Ç–æ–π
                    gifts = {};
                    for (let i = 1; i <= 10; i++) {
                        gifts[i] = { reserved: false, reservedBy: '' };
                    }
                    await saveToFirestore();
                    return true;
                }
            } catch (error) {
                console.error('‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏:', error);
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º fallback –¥–∞–Ω–Ω—ã–µ
                initializeDefaultGifts();
                return false;
            }
        }
        
        // –†–µ–∞–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
        function setupRealtimeUpdates() {
            db.collection('wishlist').doc('gifts')
                .onSnapshot((doc) => {
                    if (doc.exists) {
                        const data = doc.data();
                        if (JSON.stringify(data.data) !== JSON.stringify(gifts)) {
                            console.log('üîÑ –ü–æ–ª—É—á–µ–Ω—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏–∑ Firestore');
                            
                            const oldGifts = { ...gifts };
                            gifts = data.data || {};
                            
                            // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–∏–≤—à–∏–µ—Å—è –ø–æ–¥–∞—Ä–∫–∏
                            Object.keys(gifts).forEach(id => {
                                if (JSON.stringify(oldGifts[id]) !== JSON.stringify(gifts[id])) {
                                    updateGiftCard(id);
                                }
                            });
                            
                            updateReservedList();
                        }
                    }
                }, (error) => {
                    console.error('–û—à–∏–±–∫–∞ real-time:', error);
                });
        }
        
        // –û–±–Ω–æ–≤–∏—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É –ø–æ–¥–∞—Ä–∫–∞
        function updateGiftCard(giftId) {
            const giftCard = document.querySelector(`.gift-card[data-id="${giftId}"]`);
            if (!giftCard) return;
            
            const gift = gifts[giftId];
            
            if (gift.reserved) {
                giftCard.classList.add('reserved');
                const reservedByDiv = document.getElementById(`reservedBy${giftId}`);
                if (reservedByDiv) {
                    reservedByDiv.style.display = 'block';
                    
                    const nameInput = reservedByDiv.querySelector('input');
                    if (nameInput && gift.reservedBy && gift.reservedBy !== nameInput.value) {
                        nameInput.value = gift.reservedBy;
                    }
                }
            } else {
                giftCard.classList.remove('reserved');
                const reservedByDiv = document.getElementById(`reservedBy${giftId}`);
                if (reservedByDiv) {
                    reservedByDiv.style.display = 'none';
                }
            }
        }
        
        // === –û–°–ù–û–í–ù–´–ï –§–£–ù–ö–¶–ò–ò ===
        
        function showReserveModal(giftId, giftTitle) {
            if (gifts[giftId]?.reserved) {
                showStatusMessage('‚ö†Ô∏è –≠—Ç–æ—Ç –ø–æ–¥–∞—Ä–æ–∫ —É–∂–µ –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω!');
                return;
            }
            
            selectedGiftId = giftId;
            selectedGiftTitle = giftTitle;
            
            document.getElementById('modalGiftInfo').innerHTML = 
                `<strong>–ü–æ–¥–∞—Ä–æ–∫ #${giftId}</strong><br>${giftTitle}`;
            
            document.getElementById('reserveModal').classList.add('active');
        }
        
        function closeModal() {
            document.getElementById('reserveModal').classList.remove('active');
            selectedGiftId = null;
            selectedGiftTitle = '';
        }
        
        async function confirmReservation() {
            if (!selectedGiftId) return;
            
            gifts[selectedGiftId] = {
                reserved: true,
                reservedBy: ''
            };
            
            updateGiftCard(selectedGiftId);
            updateReservedList();
            
            await saveToFirestore();
            showStatusMessage(`üéâ –ü–æ–¥–∞—Ä–æ–∫ #${selectedGiftId} –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω!`);
            
            closeModal();
        }
        
        async function updateReservedBy(giftId, name) {
            if (!gifts[giftId]) return;
            
            gifts[giftId].reservedBy = name.trim() || '–ê–Ω–æ–Ω–∏–º';
            await saveToFirestore();
            updateReservedList();
            
            if (name.trim()) {
                showStatusMessage(`üë§ –ò–º—è –æ–±–Ω–æ–≤–ª–µ–Ω–æ –¥–ª—è –ø–æ–¥–∞—Ä–∫–∞ #${giftId}`);
            }
        }
        
        function updateReservedList() {
            const reservedList = document.getElementById('reservedList');
            const reservedGifts = Object.keys(gifts).filter(id => 
                gifts[id] && gifts[id].reserved
            );
            
            if (reservedGifts.length === 0) {
                reservedList.innerHTML = '<div style="color:#888; font-style:italic;">–ü–æ–∫–∞ –Ω–µ—Ç –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–¥–∞—Ä–∫–æ–≤</div>';
                return;
            }
            
            reservedList.innerHTML = reservedGifts.map(id => {
                const gift = gifts[id];
                const giftTitle = document.querySelector(`.gift-card[data-id="${id}"] .gift-title`)?.textContent || `–ü–æ–¥–∞—Ä–æ–∫ #${id}`;
                const name = gift.reservedBy || '–ê–Ω–æ–Ω–∏–º';
                
                return `
                    <div class="reserved-badge">
                        <span class="gift-number">${id}</span>
                        ${giftTitle}
                        <div class="reserved-by">–í—ã–±—Ä–∞–ª(–∞): ${name}</div>
                    </div>
                `;
            }).join('');
        }
        
        function showStatusMessage(text) {
            const message = document.getElementById('statusMessage');
            message.textContent = text;
            message.classList.add('show');
            
            setTimeout(() => {
                message.classList.remove('show');
            }, 3000);
        }
        
        function initializeDefaultGifts() {
            gifts = {};
            for (let i = 1; i <= 10; i++) {
                gifts[i] = { reserved: false, reservedBy: '' };
            }
        }
        
        // === –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø ===
        document.addEventListener('DOMContentLoaded', async function() {
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –∑–∞–≥—Ä—É–∑–∫–µ
            showStatusMessage('üîÑ –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...');
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ Firestore
            await loadFromFirestore();
            
            // –í–∫–ª—é—á–∞–µ–º real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
            setupRealtimeUpdates();
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
            document.getElementById('reserveModal').addEventListener('click', function(e) {
                if (e.target === this) closeModal();
            });
            
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') closeModal();
            });
            
            // –§—É–Ω–∫—Ü–∏—è —Å–±—Ä–æ—Å–∞ (–¥–ª—è –∞–¥–º–∏–Ω–∞)
            window.resetAll = async function() {
                if (confirm('‚ö†Ô∏è –°–ë–†–û–°–ò–¢–¨ –í–°–ï –ë–†–û–ù–ò–†–û–í–ê–ù–ò–Ø?')) {
                    initializeDefaultGifts();
                    await saveToFirestore();
                    location.reload();
                }
            };
        });
    </script>
</body>
</html>



